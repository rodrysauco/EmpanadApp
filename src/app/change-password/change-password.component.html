<div class="container">
  <div *ngIf="flag; else mailIm">
    <form [formGroup]="passPart" (ngSubmit)="changePass()">
      <mat-card class="card">
        <mat-card-title>
          Password reset
        </mat-card-title>
        <mat-card-subtitle>
          Ingrese lo solicitado
        </mat-card-subtitle>
        <mat-card-content>
          <mat-form-field>
            <input matInput type="password" formControlName="oldPass" placeholder="Contrase単a antigua">
            <mat-error *ngIf="old.hasError('required')">Contrase単a requerida</mat-error>
          </mat-form-field>
          <mat-form-field>
            <input matInput type="{{this.input}}" formControlName="newPass" placeholder="Contrase単a nueva">
            <button mat-icon-button type="button" matSuffix (click)="showPass()"><i class="material-icons">{{this.icon}}</i></button>
            <mat-error *ngIf="new.hasError('required')">Contrase単a requerida</mat-error>
          </mat-form-field>
        </mat-card-content>
        <mat-card-actions>
          <div>
            <section class="cancelBtn">
              <button mat-raised-button (click)="return()" type="button">Login</button>
            </section>
            <section class="submit">
              <button mat-raised-button class="green" [disabled]="!passPart.valid" type="submit">Confirmar</button>
            </section>
          </div>
        </mat-card-actions>
        <div *ngIf="circle" class="cardSpinner">
          <mat-spinner></mat-spinner>
        </div>
      </mat-card>
    </form>
  </div>
  <ng-template #mailIm>
    <form [formGroup]="mailPart" (ngSubmit)="makeRequest()">
      <mat-card class="card">
        <mat-card-title>
          Reset password
        </mat-card-title>
        <mat-card-subtitle>
          Ingresa tu mail
        </mat-card-subtitle>
        <mat-card-content>
          <mat-form-field class="mailField">
            <input matInput formControlName="mail" type="email" placeholder="Email">
            <mat-error *ngIf="mail.hasError('email')">Email invalido</mat-error>
            <mat-error *ngIf="mail.hasError('required')">Requerido</mat-error>
          </mat-form-field>
        </mat-card-content>
        <mat-card-actions>
          <div>
            <section class="cancelBtn">
              <button mat-raised-button (click)="return()" type="button">Cancelar</button>
            </section>
            <section class="submit">
              <button mat-raised-button class="green" [disabled]="!mailPart.valid" type="submit">Solicitar</button>
            </section>
          </div>
        </mat-card-actions>
        <div *ngIf="circle" class="cardSpinner">
          <mat-spinner></mat-spinner>
        </div>
      </mat-card>
    </form>
  </ng-template>
</div>